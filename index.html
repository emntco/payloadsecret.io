<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Payload Secret Generator</title>
    <meta
      name="description"
      content="Generate secure 32-byte random secrets for your Payload instance."
    />
    <link rel="icon" type="image/png" href="assets/img/favicon.ico">
    <link rel="stylesheet" href="assets/css/styles.css" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8KTZ04YFHP"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'G-8KTZ04YFHP', {
        'page_title': 'Payload Secret Generator',
        'page_location': window.location.href,
        'page_path': window.location.pathname
      });
    </script>
  </head>
  <body>
    <main>
      <div class="container">
        <div class="header">
          <h1>Can you keep a secret?</h1>
          <p>
            Generate a random 32-byte, base64 secret for your Payload instance.
          </p>
        </div>

        <div class="controls">
          <button id="generateBtn" class="btn">Generate</button>
          <button id="usageBtn" class="btn">Usage</button>
        </div>

        <div id="secretContainer" class="secret-container hidden">
          <div class="secret-display">
            <pre id="secretField"></pre>
            <div class="button-group">
              <button id="toggleVisibilityBtn" class="icon-btn">
                <span id="eyeIcon" class="icon">ðŸ™‰</span>
              </button>
              <button id="copyBtn" class="icon-btn">
                <span id="copyIcon" class="icon">ðŸ“‹</span>
              </button>
            </div>
          </div>
        </div>

        <div id="usageInfo" class="usage-info hidden">
          <div class="usage-section">
            <h2>Development</h2>
            <p>Add the secret to your <code>.env</code> file:</p>
            <pre>PAYLOAD_SECRET="your_generated_secret_here"</pre>
          </div>

          <div class="usage-section">
            <h2>Production</h2>
            <p>Set the secret in your production environment variables:</p>
            <pre>vercel secrets add payload-secret your_generated_secret_here</pre>
            <p>Then reference it in your <code>vercel.json</code>:</p>
            <pre>
{
  "env": {
    "PAYLOAD_SECRET": "@payload-secret"
  }
}</pre>
          </div>

          <div class="usage-section">
            <h2>Code</h2>
            <p>In your Payload config:</p>
            <pre>
import { buildConfig } from 'payload/config';

export default buildConfig({
  secret: process.env.PAYLOAD_SECRET,
  // ... rest of your config
});</pre>
          </div>
        </div>

        <div class="footer">
          <a href="https://github.com/emntco/payloadsecret.io" target="_blank" rel="noopener noreferrer">â™¥ emnt.co</a>
        </div>
      </div>
    </main>
    <script src="assets/js/copyButton.js"></script>
    <script src="assets/js/app.js"></script>
  </body>
</html>
